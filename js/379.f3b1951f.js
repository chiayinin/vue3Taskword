"use strict";(self["webpackChunkweek006"]=self["webpackChunkweek006"]||[]).push([[379],{530:function(t,i,n){function e(t){return{all:t=t||new Map,on:function(i,n){var e=t.get(i);e?e.push(n):t.set(i,[n])},off:function(i,n){var e=t.get(i);e&&(n?e.splice(e.indexOf(n)>>>0,1):t.set(i,[]))},emit:function(i,n){var e=t.get(i);e&&e.slice().map((function(t){t(n)})),(e=t.get("*"))&&e.slice().map((function(t){t(i,n)}))}}}n.d(i,{Z:function(){return a}});const s=e();var a=s},379:function(t,i,n){n.r(i),n.d(i,{default:function(){return x}});var e=n(252),s=n(577),a=n(963);const l=(0,e._)("h2",null,"購物車列表",-1),o={class:"container"},c={class:"table align-middle"},d=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"圖片"),(0,e._)("th",null,"商品名稱"),(0,e._)("th",null,"價格"),(0,e._)("th")])],-1),u={style:{width:"200px"}},r={key:0,class:"h5"},p={key:1},h={class:"h6"},g={class:"h5"},_={class:"btn-group btn-group-sm"},f=["onClick","disabled"],b={class:"fas fa-spinner fa-pulse"},k=(0,e.Uk)(" 查看更多 "),v=["onClick","disabled"],m={class:"fas fa-spinner fa-pulse"},w=(0,e.Uk)(" 加到購物車 ");function y(t,i,n,y,C,I){return(0,e.wg)(),(0,e.iD)(e.HY,null,[l,(0,e._)("div",o,[(0,e._)("table",c,[d,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(C.products,(i=>((0,e.wg)(),(0,e.iD)("tr",{key:i.id},[(0,e._)("td",u,[(0,e._)("div",{style:(0,s.j5)([{backgroundImage:`url(${i.imageUrl})`},{height:"100px","background-size":"cover","background-position":"center"}])},null,4)]),(0,e._)("td",null,(0,s.zw)(i.title),1),(0,e._)("td",null,[i.price===i.origin_price?((0,e.wg)(),(0,e.iD)("div",r,(0,s.zw)(i.price)+" 元 ",1)):((0,e.wg)(),(0,e.iD)("div",p,[(0,e._)("del",h,"原價 "+(0,s.zw)(i.origin_price)+" 元",1),(0,e._)("div",g,"現在只要 "+(0,s.zw)(i.price)+" 元",1)]))]),(0,e._)("td",null,[(0,e._)("div",_,[(0,e._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:n=>t.openProductModal(i.id),disabled:C.isLoadingItem===i.id},[(0,e.wy)((0,e._)("i",b,null,512),[[a.F8,C.isLoadingItem===i.id]]),k],8,f),(0,e._)("button",{type:"button",class:"btn btn-outline-danger",onClick:t=>I.addToCart(i.id),disabled:C.isLoadingItem===i.id},[(0,e.wy)((0,e._)("i",m,null,512),[[a.F8,C.isLoadingItem===i.id]]),w],8,v)])])])))),128))])])])],64)}var C=n(530),I={data(){return{cartData:{carts:[]},products:[],isLoadingItem:""}},methods:{getProducts(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/chiayinin-api/products/all").then((t=>{this.products=t.data.products})).catch((t=>{console.dir(t)}))},addToCart(t,i=1){const n={product_id:t,qty:i};this.isLoadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/chiayinin-api/cart",{data:n}).then((t=>{console.log(t),this.isLoadingItem="",C.Z.emit("get-cart")})).catch((t=>{console.dir(t)}))}},mounted(){this.getProducts()}},L=n(744);const D=(0,L.Z)(I,[["render",y]]);var x=D}}]);
//# sourceMappingURL=379.f3b1951f.js.map